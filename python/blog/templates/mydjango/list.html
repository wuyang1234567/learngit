{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Signin Template for Bootstrap</title>
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
     <link rel="stylesheet" href="../../static/register/register.css">
  </head>
<body>
   <h1 style="text-align: center ; margin-bottom: 30px">博客列表</h1>
    <table class="table">
      <thead>
        <tr>
          <th>文章标题</th>
          <th>文章作者</th>
          <th>文章时间</th>
        </tr>
      </thead>
      <tbody id="article">

      </tbody>
    </table>
    <button  class="btn btn-lg btn-primary btn-block"  data-target="#myModal" type="submit" id="btnreturn">
        返回
    </button>
</body>
 <script src="{% static 'bootstrap/js/jquery.js' %}"></script>
  <script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
</html>
<script>
    var get;
    var getdate;
    var article;
    var btnreturn;
    init();
    function init(){
        get=localStorage.getItem("content");
        article=document.getElementById("article");
        btnreturn=document.getElementById("btnreturn");
        getdate=JSON.parse(get);
        world()
    }
    {#拼接字符串#}
    function world(){
        console.log(getdate);
        var th='';
        if(get!==null){
            for(var i=0;i<getdate.length;i++){
                var title="<td>"+"<a href='http://127.0.0.1:8000/mydjango/details/?id="+i+"'>"+getdate[i].title+"</a>"+"</td>";
                var author="<td>"+getdate[i].author+"</td>";
                var time="<td>"+getdate[i].time+"</td>";

                th="<tr>"+title+author+time+"</tr>";
                article.innerHTML+=th;
            }
        }
    }
    btnreturn.onclick=function(){
        location.href="http://127.0.0.1:8000/mydjango/loginbase/";
    }
</script>
